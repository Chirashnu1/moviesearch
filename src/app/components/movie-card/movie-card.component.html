
<a [routerLink]="['/movie', movie.imdbID]" class="block">
  <div class="movie-card-hover glass-card rounded-lg overflow-hidden h-full flex flex-col">
    <div class="relative">
      <img
        [src]="movie.Poster !== 'N/A' ? movie.Poster : placeholderImage"
        [alt]="movie.Title"
        class="w-full h-[300px] object-cover"
        loading="lazy"
      />
      <button
        *ngIf="showFavoriteButton"
        (click)="toggleFavorite($event)"
        [class.bg-primary]="isFavorite(movie.imdbID)"
        [class.text-white]="isFavorite(movie.imdbID)"
        [class.bg-black/50]="!isFavorite(movie.imdbID)"
        [class.text-white]="!isFavorite(movie.imdbID)"
        [class.hover:bg-black/70]="!isFavorite(movie.imdbID)"
        class="absolute top-2 right-2 p-2 rounded-full transition-colors"
        [attr.aria-label]="isFavorite(movie.imdbID) ? 'Remove from favorites' : 'Add to favorites'"
      >
        <i class="lucide lucide-heart" [class.filled]="isFavorite(movie.imdbID)"></i>
      </button>
    </div>
    <div class="p-4 flex-1 flex flex-col">
      <h3 class="font-semibold text-lg line-clamp-1">{{ movie.Title }}</h3>
      <div class="mt-1 text-white/70 text-sm flex justify-between">
        <span>{{ movie.Year }}</span>
        <span class="uppercase">{{ movie.Type }}</span>
      </div>
    </div>
  </div>
</a>
